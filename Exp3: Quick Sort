#include <stdio.h>

void printSubArray(int a[], int low, int high){
	for(int i=low; i<=high; i++){
		printf("%d ",a[i]);
	}
	printf("\n");
}

void quickSort(int a[], int low, int high){
	if(low<high){
		int pivot = a[high];
		int i = low - 1;
		for(int j=low; j<high; j++){
			if(a[j]<= pivot){
				i++;
				int temp = a[i];
				a[i] = a[j];
				a[j] = temp;
			}
		}

		int temp = a[i+1];
		a[i+1] = a[high];
		a[high] = temp;

		printf("Pass: ");
		printSubArray(a, low, high);

		int pi = i+1;
		quickSort(a, low, pi-1);
		quickSort(a, pi+1, high);
	}
}

int main(){
	int n;
	printf("number of elements: ");
	scanf("%d",&n);

	int a[n];
	printf("elements: ");
	for(int i=0; i<n; i++){
	scanf("%d",&a[i]);
	}
	printf("Original array: ");
	for(int i=0; i<n; i++){
	printf("%d ",a[i]);
		}
	printf("\n");

	quickSort(a, 0, n-1);

	printf("Sorted array: ");
	for (int i=0; i<n; i++){
		printf("%d ",a[i]);
	}
	printf("\n");
	return 0;
}
